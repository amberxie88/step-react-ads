{"ast":null,"code":"var _jsxFileName = \"/home/kjchan/step-react-ads/client/src/Dashboard/PageComponents/LoginDashboard/Accounts.js\";\n\n/**\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport React from 'react';\nimport axios from 'axios';\nimport Title from '../../Utilities/Title';\nimport Typography from '@material-ui/core/Typography';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Checkbox from '@material-ui/core/Checkbox';\n\nclass Accounts extends React.Component {\n  constructor(props) {\n    super(props);\n    this.fetchCustomers = this.fetchCustomers.bind(this);\n    this.handleClick = this.handleClick.bind(this);\n    this.isSelected = this.isSelected.bind(this);\n    this.state = {\n      customerIds: [],\n      selected: '',\n      status: 'none authenticated'\n    };\n  }\n\n  async fetchCustomers() {\n    this.setState({\n      status: 'loading'\n    });\n    const {\n      data\n    } = await axios.get('/customer');\n    console.log(data.response);\n\n    if (data.response) {\n      this.setState({\n        customerIds: data.response,\n        status: 'loaded'\n      });\n    } else {\n      this.setState({\n        status: 'none authenticated'\n      });\n    }\n  }\n\n  pickContentToDisplay() {\n    const customerIds = this.state.customerIds;\n    console.log(customerIds);\n\n    switch (this.state.status) {\n      case 'none authenticated':\n        return /*#__PURE__*/React.createElement(Typography, {\n          variant: \"overline\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 11\n          }\n        }, \"Log in to access your accounts.\");\n\n      case 'loading':\n        return /*#__PURE__*/React.createElement(Typography, {\n          variant: \"overline\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 16\n          }\n        }, \"Loading . . .\");\n\n      case 'loaded':\n        return /*#__PURE__*/React.createElement(TableBody, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 11\n          }\n        }, customerIds.map(row => /*#__PURE__*/React.createElement(TableRow, {\n          key: row.id,\n          onClick: event => this.handleClick(event, row),\n          role: \"checkbox\",\n          \"aria-checked\": this.isSelected(row.id),\n          tabIndex: -1,\n          selected: this.isSelected(row.id),\n          hover: true,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 15\n          }\n        }, /*#__PURE__*/React.createElement(TableCell, {\n          padding: \"checkbox\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 17\n          }\n        }, /*#__PURE__*/React.createElement(Checkbox, {\n          checked: this.isSelected(row.id),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 19\n          }\n        })), /*#__PURE__*/React.createElement(TableCell, {\n          key: row.id,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 17\n          }\n        }, row.id), /*#__PURE__*/React.createElement(TableCell, {\n          key: row.children,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 17\n          }\n        }, row.children), /*#__PURE__*/React.createElement(TableCell, {\n          key: row.name,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 17\n          }\n        }, row.name))));\n\n      default:\n        return /*#__PURE__*/React.createElement(Typography, {\n          variant: \"overline\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 11\n          }\n        }, \"Log in to access your accounts.\");\n    }\n  }\n\n  componentDidMount() {\n    this.fetchCustomers();\n    this.setState({\n      selected: ''\n    });\n  }\n\n  isSelected(id) {\n    return this.state.selected === id;\n  }\n\n  async handleClick(event, row) {\n    this.setState({\n      selected: row.id\n    });\n    const loginId = row.id;\n    const customerId = row.children;\n    console.log(row.id);\n    console.log(row.children);\n    const {\n      data\n    } = await axios.post('/client', new URLSearchParams({\n      loginId,\n      customerId\n    }));\n    alert(data);\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(React.Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Title, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 9\n      }\n    }, \"Available Customer IDs\"), /*#__PURE__*/React.createElement(Table, {\n      size: \"small\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(TableHead, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(TableRow, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(TableCell, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 15\n      }\n    }, \"Select\"), /*#__PURE__*/React.createElement(TableCell, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 15\n      }\n    }, \"Login ID\"), /*#__PURE__*/React.createElement(TableCell, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 15\n      }\n    }, \"Client Account ID\"), /*#__PURE__*/React.createElement(TableCell, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 15\n      }\n    }, \"Client Account Name\"))), this.pickContentToDisplay()));\n  }\n\n}\n\nexport default Accounts;","map":{"version":3,"sources":["/home/kjchan/step-react-ads/client/src/Dashboard/PageComponents/LoginDashboard/Accounts.js"],"names":["React","axios","Title","Typography","Table","TableBody","TableCell","TableHead","TableRow","Checkbox","Accounts","Component","constructor","props","fetchCustomers","bind","handleClick","isSelected","state","customerIds","selected","status","setState","data","get","console","log","response","pickContentToDisplay","map","row","id","event","children","name","componentDidMount","loginId","customerId","post","URLSearchParams","alert","render"],"mappings":"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","sourcesContent":["/**\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport React from 'react';\nimport axios from 'axios';\nimport Title from '../../Utilities/Title';\nimport Typography from '@material-ui/core/Typography';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Checkbox from '@material-ui/core/Checkbox';\n\nclass Accounts extends React.Component {\n  constructor(props) {\n    super(props);\n    this.fetchCustomers = this.fetchCustomers.bind(this);\n    this.handleClick = this.handleClick.bind(this);\n    this.isSelected = this.isSelected.bind(this);\n    this.state = {\n      customerIds: [],\n      selected: '',\n      status: 'none authenticated',\n    };\n  }\n\n  async fetchCustomers() {\n    this.setState({ status: 'loading' });\n\n    const { data } = await axios.get('/customer');\n    console.log(data.response);\n    if (data.response) {\n      this.setState({\n        customerIds: data.response,\n        status: 'loaded',\n      });\n    } else {\n      this.setState({ status: 'none authenticated' });\n    }\n  }\n\n  pickContentToDisplay() {\n    const customerIds = this.state.customerIds;\n    console.log(customerIds);\n    switch (this.state.status) {\n      case 'none authenticated':\n        return (\n          <Typography variant=\"overline\">\n            Log in to access your accounts.\n          </Typography>\n        );\n      case 'loading':\n        return <Typography variant=\"overline\">Loading . . .</Typography>;\n      case 'loaded':\n        return (\n          <TableBody>\n            {customerIds.map((row) => (\n              <TableRow\n                key={row.id}\n                onClick={(event) => this.handleClick(event, row)}\n                role=\"checkbox\"\n                aria-checked={this.isSelected(row.id)}\n                tabIndex={-1}\n                selected={this.isSelected(row.id)}\n                hover\n              >\n                <TableCell padding=\"checkbox\">\n                  <Checkbox checked={this.isSelected(row.id)} />\n                </TableCell>\n                <TableCell key={row.id}>{row.id}</TableCell>\n                <TableCell key={row.children}>{row.children}</TableCell>\n                <TableCell key={row.name}>{row.name}</TableCell>\n              </TableRow>\n            ))}\n          </TableBody>\n        );\n      default:\n        return (\n          <Typography variant=\"overline\">\n            Log in to access your accounts.\n          </Typography>\n        );\n    }\n  }\n\n  componentDidMount() {\n    this.fetchCustomers();\n    this.setState({\n      selected: '',\n    });\n  }\n\n  isSelected(id) {\n    return this.state.selected === id;\n  }\n\n  async handleClick(event, row) {\n    this.setState({\n      selected: row.id,\n    });\n    const loginId = row.id;\n    const customerId = row.children;\n    console.log(row.id);\n    console.log(row.children);\n    const { data } = await axios.post(\n      '/client',\n      new URLSearchParams({ loginId, customerId }),\n    );\n    alert(data);\n  }\n\n  render() {\n    return (\n      <React.Fragment>\n        <Title>Available Customer IDs</Title>\n        <Table size=\"small\">\n          <TableHead>\n            <TableRow>\n              <TableCell>Select</TableCell>\n              <TableCell>Login ID</TableCell>\n              <TableCell>Client Account ID</TableCell>\n              <TableCell>Client Account Name</TableCell>\n            </TableRow>\n          </TableHead>\n          {this.pickContentToDisplay()}\n        </Table>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default Accounts;\n"]},"metadata":{},"sourceType":"module"}