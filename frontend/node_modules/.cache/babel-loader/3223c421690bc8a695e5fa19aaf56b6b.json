{"ast":null,"code":"import _slicedToArray from\"/home/kjchan/step-react-ads/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";/**\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */import React from'react';import Title from'../../Utilities/Title';import Table from'@material-ui/core/Table';import TableBody from'@material-ui/core/TableBody';import TableCell from'@material-ui/core/TableCell';import TableHead from'@material-ui/core/TableHead';import TableRow from'@material-ui/core/TableRow';import TablePagination from'@material-ui/core/TablePagination';export default function QueryResults(props){var rows=props.rows,fields=props.fields;var _React$useState=React.useState(10),_React$useState2=_slicedToArray(_React$useState,2),rowsPerPage=_React$useState2[0],setRowsPerPage=_React$useState2[1];var _React$useState3=React.useState(0),_React$useState4=_slicedToArray(_React$useState3,2),page=_React$useState4[0],setPage=_React$useState4[1];var handleChangePage=function handleChangePage(event,newPage){setPage(newPage);};var handleChangeRowsPerPage=function handleChangeRowsPerPage(event){// If the selection is [A]ll the rows.\nif(event.target.value.toString().charAt(0)==='A'){event.target.value=rows.length;}setRowsPerPage(+event.target.value);setPage(0);};return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Title,null,\"Query Results\"),/*#__PURE__*/React.createElement(Results,{rows:rows,fields:fields,rowsPerPage:rowsPerPage,page:page,handleChangePage:handleChangePage,handleChangeRowsPerPage:handleChangeRowsPerPage}));}function Results(props){var rows=props.rows;var fields=props.fields;var rowsPerPage=props.rowsPerPage;var page=props.page;var handleChangePage=props.handleChangePage;var handleChangeRowsPerPage=props.handleChangeRowsPerPage;//console.log(rows);\n//console.log(fields);\nreturn/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Table,{size:\"small\"},/*#__PURE__*/React.createElement(TableHead,null,/*#__PURE__*/React.createElement(TableRow,null,fields.map(function(key,index){return/*#__PURE__*/React.createElement(TableCell,{key:'col'+index},key);}))),/*#__PURE__*/React.createElement(TableBody,null,rows.slice(page*rowsPerPage,page*rowsPerPage+rowsPerPage).map(function(row){return/*#__PURE__*/React.createElement(TableRow,{key:'row'+row.id},fields.map(function(key){return/*#__PURE__*/React.createElement(TableCell,{key:key},row[key]);}));}))),/*#__PURE__*/React.createElement(TablePagination,{rowsPerPageOptions:[5,10,25,'All '+rows.length.toString()+' Rows'],component:\"div\",count:rows.length,rowsPerPage:rowsPerPage,page:page,onChangePage:handleChangePage,onChangeRowsPerPage:handleChangeRowsPerPage}));}","map":{"version":3,"sources":["/home/kjchan/step-react-ads/client/src/Dashboard/PageComponents/QueryDashboard/QueryResults.js"],"names":["React","Title","Table","TableBody","TableCell","TableHead","TableRow","TablePagination","QueryResults","props","rows","fields","useState","rowsPerPage","setRowsPerPage","page","setPage","handleChangePage","event","newPage","handleChangeRowsPerPage","target","value","toString","charAt","length","Results","map","key","index","slice","row","id"],"mappings":"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","sourcesContent":["/**\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport React from 'react';\nimport Title from '../../Utilities/Title';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport TablePagination from '@material-ui/core/TablePagination';\n\nexport default function QueryResults(props) {\n  const { rows, fields } = props;\n  const [rowsPerPage, setRowsPerPage] = React.useState(10);\n  const [page, setPage] = React.useState(0);\n\n  const handleChangePage = (event, newPage) => {\n    setPage(newPage);\n  };\n\n  const handleChangeRowsPerPage = (event) => {\n    // If the selection is [A]ll the rows.\n    if (event.target.value.toString().charAt(0) === 'A') {\n      event.target.value = rows.length;\n    }\n    setRowsPerPage(+event.target.value);\n    setPage(0);\n  };\n  return (\n    <React.Fragment>\n      <Title>Query Results</Title>\n      <Results\n        rows={rows}\n        fields={fields}\n        rowsPerPage={rowsPerPage}\n        page={page}\n        handleChangePage={handleChangePage}\n        handleChangeRowsPerPage={handleChangeRowsPerPage}\n      />\n    </React.Fragment>\n  );\n}\n\nfunction Results(props) {\n  const rows = props.rows;\n  const fields = props.fields;\n  const rowsPerPage = props.rowsPerPage;\n  const page = props.page;\n  const handleChangePage = props.handleChangePage;\n  const handleChangeRowsPerPage = props.handleChangeRowsPerPage;\n  //console.log(rows);\n  //console.log(fields);\n  return (\n    <div>\n      <Table size=\"small\">\n        <TableHead>\n          <TableRow>\n            {fields.map((key, index) => (\n              <TableCell key={'col' + index}>{key}</TableCell>\n            ))}\n          </TableRow>\n        </TableHead>\n        <TableBody>\n          {rows\n            .slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\n            .map((row) => (\n              <TableRow key={'row' + row.id}>\n                {fields.map((key) => (\n                  <TableCell key={key}>{row[key]}</TableCell>\n                ))}\n              </TableRow>\n            ))}\n        </TableBody>\n      </Table>\n      <TablePagination\n        rowsPerPageOptions={[\n          5,\n          10,\n          25,\n          'All ' + rows.length.toString() + ' Rows',\n        ]}\n        component=\"div\"\n        count={rows.length}\n        rowsPerPage={rowsPerPage}\n        page={page}\n        onChangePage={handleChangePage}\n        onChangeRowsPerPage={handleChangeRowsPerPage}\n      />\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}