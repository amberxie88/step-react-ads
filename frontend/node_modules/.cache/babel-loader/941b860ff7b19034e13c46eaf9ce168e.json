{"ast":null,"code":"import _classCallCheck from\"/home/kjchan/step-react-ads/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/kjchan/step-react-ads/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/home/kjchan/step-react-ads/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/kjchan/step-react-ads/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/kjchan/step-react-ads/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";/**\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */import React from'react';import clsx from'clsx';import Grid from'@material-ui/core/Grid';import Paper from'@material-ui/core/Paper';import Chart from'./Reports/Chart';import SentimentGraph from'./Reports/SentimentGraph';import ClicksPerCampaignChart from'./Reports/ClicksPerCampaignChart';import Deposits from'./Reports/Deposits';import CampaignData from'./Reports/CampaignData';import{makeStyles}from'@material-ui/core/styles';import Joyride,{STATUS}from'react-joyride';import{stylesSettings}from'../../Utilities/Styles';import{ReportsWalkthrough}from'../../Utilities/Walkthrough';var Styles=makeStyles(stylesSettings);var ReportsPageLayout=/*#__PURE__*/function(_React$Component){_inherits(ReportsPageLayout,_React$Component);var _super=_createSuper(ReportsPageLayout);function ReportsPageLayout(props){var _this;_classCallCheck(this,ReportsPageLayout);_this=_super.call(this,props);_this.handleStorageChange=_this.handleStorageChange.bind(_assertThisInitialized(_this));_this.updateShouldRunTutorial=_this.updateShouldRunTutorial.bind(_assertThisInitialized(_this));_this.handleJoyrideCallback=_this.handleJoyrideCallback.bind(_assertThisInitialized(_this));window.addEventListener('storage',function(){_this.handleStorageChange();});_this.state={shouldRunTutorial:_this.updateShouldRunTutorial()};return _this;}_createClass(ReportsPageLayout,[{key:\"updateShouldRunTutorial\",value:function updateShouldRunTutorial(){return localStorage.getItem('runTutorial')==null?true:localStorage.getItem('runTutorial')==='true';}},{key:\"handleStorageChange\",value:function handleStorageChange(){this.setState({shouldRunTutorial:this.updateShouldRunTutorial()});}},{key:\"handleJoyrideCallback\",value:function handleJoyrideCallback(data){var status=data.status;if([STATUS.FINISHED,STATUS.SKIPPED].includes(status)){// Need to set our state and the localStorage state to false, so we can restart if we click start again.\nlocalStorage.setItem('runTutorial',false);this.setState({shouldRunTutorial:false});}}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Joyride,{steps:ReportsWalkthrough,continuous:true,showProgress:true,showSkipButton:true,run:this.state.shouldRunTutorial,callback:this.handleJoyrideCallback}),/*#__PURE__*/React.createElement(ComponentLayout,null));}}]);return ReportsPageLayout;}(React.Component);var ComponentLayout=function ComponentLayout(props){var classes=Styles();var fixedHeightPaper=clsx(classes.paper,classes.fixedHeight);return/*#__PURE__*/React.createElement(Grid,{container:true,spacing:3},/*#__PURE__*/React.createElement(Grid,{item:true,xs:12,md:9,xl:9},/*#__PURE__*/React.createElement(Paper,{className:fixedHeightPaper+' clicks-per-campaign'},/*#__PURE__*/React.createElement(ClicksPerCampaignChart,null))),/*#__PURE__*/React.createElement(Grid,{item:true,xs:12,md:3,xl:3},/*#__PURE__*/React.createElement(Paper,{className:fixedHeightPaper+' recent-deposits'},/*#__PURE__*/React.createElement(Deposits,null))),/*#__PURE__*/React.createElement(Grid,{item:true,xs:12,md:12,xl:6},/*#__PURE__*/React.createElement(Paper,{className:fixedHeightPaper+' chart-api'},/*#__PURE__*/React.createElement(SentimentGraph,null))),/*#__PURE__*/React.createElement(Grid,{item:true,xs:12,md:12,xl:6},/*#__PURE__*/React.createElement(Paper,{className:fixedHeightPaper+' chart-1'},/*#__PURE__*/React.createElement(Chart,null))),/*#__PURE__*/React.createElement(Grid,{item:true,xs:12},/*#__PURE__*/React.createElement(Paper,{className:classes.paper+' campaign-data'},/*#__PURE__*/React.createElement(CampaignData,null))));};export default ReportsPageLayout;","map":{"version":3,"sources":["/home/kjchan/step-react-ads/client/src/Dashboard/Pages/ReportsPage/ReportsPageLayout.js"],"names":["React","clsx","Grid","Paper","Chart","SentimentGraph","ClicksPerCampaignChart","Deposits","CampaignData","makeStyles","Joyride","STATUS","stylesSettings","ReportsWalkthrough","Styles","ReportsPageLayout","props","handleStorageChange","bind","updateShouldRunTutorial","handleJoyrideCallback","window","addEventListener","state","shouldRunTutorial","localStorage","getItem","setState","data","status","FINISHED","SKIPPED","includes","setItem","Component","ComponentLayout","classes","fixedHeightPaper","paper","fixedHeight"],"mappings":"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","sourcesContent":["/**\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport React from 'react';\nimport clsx from 'clsx';\nimport Grid from '@material-ui/core/Grid';\nimport Paper from '@material-ui/core/Paper';\nimport Chart from './Reports/Chart';\nimport SentimentGraph from './Reports/SentimentGraph';\nimport ClicksPerCampaignChart from './Reports/ClicksPerCampaignChart';\nimport Deposits from './Reports/Deposits';\nimport CampaignData from './Reports/CampaignData';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Joyride, { STATUS } from 'react-joyride';\n\nimport { stylesSettings } from '../../Utilities/Styles';\nimport { ReportsWalkthrough } from '../../Utilities/Walkthrough';\nconst Styles = makeStyles(stylesSettings);\n\nclass ReportsPageLayout extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleStorageChange = this.handleStorageChange.bind(this);\n    this.updateShouldRunTutorial = this.updateShouldRunTutorial.bind(this);\n    this.handleJoyrideCallback = this.handleJoyrideCallback.bind(this);\n\n    window.addEventListener('storage', () => {\n      this.handleStorageChange();\n    });\n\n    this.state = {\n      shouldRunTutorial: this.updateShouldRunTutorial(),\n    };\n  }\n\n  updateShouldRunTutorial() {\n    return localStorage.getItem('runTutorial') == null\n      ? true\n      : localStorage.getItem('runTutorial') === 'true';\n  }\n\n  handleStorageChange() {\n    this.setState({ shouldRunTutorial: this.updateShouldRunTutorial() });\n  }\n\n  handleJoyrideCallback(data) {\n    const { status } = data;\n    if ([STATUS.FINISHED, STATUS.SKIPPED].includes(status)) {\n      // Need to set our state and the localStorage state to false, so we can restart if we click start again.\n      localStorage.setItem('runTutorial', false);\n      this.setState({ shouldRunTutorial: false });\n    }\n  }\n  render() {\n    return (\n      <React.Fragment>\n        <Joyride\n          steps={ReportsWalkthrough}\n          continuous={true}\n          showProgress={true}\n          showSkipButton={true}\n          run={this.state.shouldRunTutorial}\n          callback={this.handleJoyrideCallback}\n        />\n        <ComponentLayout />\n      </React.Fragment>\n    );\n  }\n}\n\nconst ComponentLayout = (props) => {\n  const classes = Styles();\n  const fixedHeightPaper = clsx(classes.paper, classes.fixedHeight);\n\n  return (\n    <Grid container spacing={3}>\n      {/* ClicksPerCampaignChart */}\n      <Grid item xs={12} md={9} xl={9}>\n        <Paper className={fixedHeightPaper + ' clicks-per-campaign'}>\n          <ClicksPerCampaignChart />\n        </Paper>\n      </Grid>\n      {/* Recent Deposits */}\n      <Grid item xs={12} md={3} xl={3}>\n        <Paper className={fixedHeightPaper + ' recent-deposits'}>\n          <Deposits />\n        </Paper>\n      </Grid>\n      {/* API-integrated Graph */}\n      <Grid item xs={12} md={12} xl={6}>\n        <Paper className={fixedHeightPaper + ' chart-api'}>\n          <SentimentGraph />\n        </Paper>\n      </Grid>\n      {/* Chart */}\n      <Grid item xs={12} md={12} xl={6}>\n        <Paper className={fixedHeightPaper + ' chart-1'}>\n          <Chart />\n        </Paper>\n      </Grid>\n      {/* CampaignData */}\n      <Grid item xs={12}>\n        <Paper className={classes.paper + ' campaign-data'}>\n          <CampaignData />\n        </Paper>\n      </Grid>\n    </Grid>\n  );\n};\n\nexport default ReportsPageLayout;\n"]},"metadata":{},"sourceType":"module"}