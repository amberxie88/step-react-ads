{"ast":null,"code":"import _classCallCheck from\"/home/kjchan/step-react-ads/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/kjchan/step-react-ads/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/home/kjchan/step-react-ads/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/kjchan/step-react-ads/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/kjchan/step-react-ads/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import{makeStyles}from'@material-ui/core/styles';import Title from'../../Utilities/Title';import Button from'@material-ui/core/Button';var useStyles=makeStyles({depositContext:{flex:1}});var Login=/*#__PURE__*/function(_React$Component){_inherits(Login,_React$Component);var _super=_createSuper(Login);function Login(props){var _this;_classCallCheck(this,Login);_this=_super.call(this,props);_this.handleLogin=_this.handleLogin.bind(_assertThisInitialized(_this));_this.state={redirect:''};return _this;}_createClass(Login,[{key:\"handleLogin\",value:function handleLogin(){var _this2=this;var request=new Request('/oauth',{accept:'application/json',method:'GET'});fetch(request).then(function(request){return request.text();}).then(function(text){console.log(text);_this2.setState({redirect:text});});}},{key:\"componentDidMount\",value:function componentDidMount(){window.addEventListener('load',this.handleLogin);}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){window.removeEventListener('load',this.handleLogin);}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Title,null,\"Authenticate your Ads Account\"),/*#__PURE__*/React.createElement(LoginButton,{onClick:this.state.redirect}));}}]);return Login;}(React.Component);function LoginButton(props){var classes=useStyles();return/*#__PURE__*/React.createElement(\"div\",{className:classes.root},/*#__PURE__*/React.createElement(Button,{variant:\"outlined\"},/*#__PURE__*/React.createElement(\"a\",{style:{textDecoration:'none'},href:props.onClick//target=\"_blank\"\n},\"Add Account\")));}export default Login;","map":{"version":3,"sources":["/home/kjchan/step-react-ads/client/src/Dashboard/PageComponents/LoginDashboard/Login.js"],"names":["React","makeStyles","Title","Button","useStyles","depositContext","flex","Login","props","handleLogin","bind","state","redirect","request","Request","accept","method","fetch","then","text","console","log","setState","window","addEventListener","removeEventListener","Component","LoginButton","classes","root","textDecoration","onClick"],"mappings":"6vBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,UAAT,KAA2B,0BAA3B,CACA,MAAOC,CAAAA,KAAP,KAAkB,uBAAlB,CACA,MAAOC,CAAAA,MAAP,KAAmB,0BAAnB,CAEA,GAAMC,CAAAA,SAAS,CAAGH,UAAU,CAAC,CAC3BI,cAAc,CAAE,CACdC,IAAI,CAAE,CADQ,CADW,CAAD,CAA5B,C,GAMMC,CAAAA,K,0GACJ,eAAYC,KAAZ,CAAmB,uCACjB,uBAAMA,KAAN,EACA,MAAKC,WAAL,CAAmB,MAAKA,WAAL,CAAiBC,IAAjB,+BAAnB,CACA,MAAKC,KAAL,CAAa,CAAEC,QAAQ,CAAE,EAAZ,CAAb,CAHiB,aAIlB,C,mEAEa,iBACZ,GAAMC,CAAAA,OAAO,CAAG,GAAIC,CAAAA,OAAJ,CAAY,QAAZ,CAAsB,CACpCC,MAAM,CAAE,kBAD4B,CAEpCC,MAAM,CAAE,KAF4B,CAAtB,CAAhB,CAIAC,KAAK,CAACJ,OAAD,CAAL,CACGK,IADH,CACQ,SAACL,OAAD,QAAaA,CAAAA,OAAO,CAACM,IAAR,EAAb,EADR,EAEGD,IAFH,CAEQ,SAACC,IAAD,CAAU,CACdC,OAAO,CAACC,GAAR,CAAYF,IAAZ,EACA,MAAI,CAACG,QAAL,CAAc,CACZV,QAAQ,CAAEO,IADE,CAAd,EAGD,CAPH,EAQD,C,6DAEmB,CAClBI,MAAM,CAACC,gBAAP,CAAwB,MAAxB,CAAgC,KAAKf,WAArC,EACD,C,mEAEsB,CACrBc,MAAM,CAACE,mBAAP,CAA2B,MAA3B,CAAmC,KAAKhB,WAAxC,EACD,C,uCAEQ,CACP,mBACE,oBAAC,KAAD,CAAO,QAAP,mBACE,oBAAC,KAAD,sCADF,cAEE,oBAAC,WAAD,EAAa,OAAO,CAAE,KAAKE,KAAL,CAAWC,QAAjC,EAFF,CADF,CAMD,C,mBArCiBZ,KAAK,CAAC0B,S,EAwC1B,QAASC,CAAAA,WAAT,CAAqBnB,KAArB,CAA4B,CAC1B,GAAMoB,CAAAA,OAAO,CAAGxB,SAAS,EAAzB,CACA,mBACE,2BAAK,SAAS,CAAEwB,OAAO,CAACC,IAAxB,eACE,oBAAC,MAAD,EAAQ,OAAO,CAAC,UAAhB,eACE,yBACE,KAAK,CAAE,CAAEC,cAAc,CAAE,MAAlB,CADT,CAEE,IAAI,CAAEtB,KAAK,CAACuB,OACZ;AAHF,gBADF,CADF,CADF,CAaD,CAED,cAAexB,CAAAA,KAAf","sourcesContent":["import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Title from '../../Utilities/Title';\nimport Button from '@material-ui/core/Button';\n\nconst useStyles = makeStyles({\n  depositContext: {\n    flex: 1,\n  },\n});\n\nclass Login extends React.Component {\n  constructor(props) {\n    super(props);\n    this.handleLogin = this.handleLogin.bind(this);\n    this.state = { redirect: '' };\n  }\n\n  handleLogin() {\n    const request = new Request('/oauth', {\n      accept: 'application/json',\n      method: 'GET',\n    });\n    fetch(request)\n      .then((request) => request.text())\n      .then((text) => {\n        console.log(text);\n        this.setState({\n          redirect: text,\n        });\n      });\n  }\n\n  componentDidMount() {\n    window.addEventListener('load', this.handleLogin);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('load', this.handleLogin);\n  }\n\n  render() {\n    return (\n      <React.Fragment>\n        <Title>Authenticate your Ads Account</Title>\n        <LoginButton onClick={this.state.redirect} />\n      </React.Fragment>\n    );\n  }\n}\n\nfunction LoginButton(props) {\n  const classes = useStyles();\n  return (\n    <div className={classes.root}>\n      <Button variant=\"outlined\">\n        <a\n          style={{ textDecoration: 'none' }}\n          href={props.onClick}\n          //target=\"_blank\"\n        >\n          Add Account\n        </a>\n      </Button>\n    </div>\n  );\n}\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}