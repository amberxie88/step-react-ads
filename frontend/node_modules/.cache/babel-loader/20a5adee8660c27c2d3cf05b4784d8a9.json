{"ast":null,"code":"import _regeneratorRuntime from\"/home/kjchan/step-react-ads/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/kjchan/step-react-ads/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/kjchan/step-react-ads/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{useTheme}from'@material-ui/core/styles';import{BarChart,Bar,XAxis,YAxis,CartesianGrid,Tooltip,Legend,ResponsiveContainer}from'recharts';import axios from'axios';import Title from'../../../Utilities/Title';export default function ClicksPerCampaignChart(){var theme=useTheme();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];//data for chart along with setter function\nuseEffect(function(){//loads data asynchronously so page can load faster\n(function(){var _getData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _yield$axios$get,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get('/data');case 2:_yield$axios$get=_context.sent;data=_yield$axios$get.data;//fake data so there's some actual results\n// only returns 1 campaign\n// const response = await axios.post(\n//   '/campaign',\n//   new URLSearchParams({\n//     query: `SELECT campaign.name, metrics.clicks FROM campaign ORDER BY campaign.id`,\n//   }),\n//   {\n//     headers: {\n//       'Content-Type': 'application/x-www-form-urlencoded',\n//     },\n//   },\n// );\nsetData(data.response);case 5:case\"end\":return _context.stop();}}},_callee);}));function getData(){return _getData.apply(this,arguments);}return getData;})()();},[]);return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Title,null,\"Clicks Per Campaign\"),/*#__PURE__*/React.createElement(ResponsiveContainer,null,/*#__PURE__*/React.createElement(BarChart,{data:data,margin:{top:16,right:16,bottom:0,left:24}},/*#__PURE__*/React.createElement(CartesianGrid,{strokeDasharray:\"3 3\"}),/*#__PURE__*/React.createElement(XAxis,{dataKey:\"campaign.name\",stroke:theme.palette.text.secondary}),/*#__PURE__*/React.createElement(YAxis,null),/*#__PURE__*/React.createElement(Tooltip,null),/*#__PURE__*/React.createElement(Legend,null),/*#__PURE__*/React.createElement(Bar,{dataKey:\"metrics.clicks\",fill:\"#8884d8\"}))));}","map":{"version":3,"sources":["/home/kjchan/step-react-ads/client/src/Dashboard/PageComponents/ReportsDashboard/Reports/ClicksPerCampaignChart.js"],"names":["React","useState","useEffect","useTheme","BarChart","Bar","XAxis","YAxis","CartesianGrid","Tooltip","Legend","ResponsiveContainer","axios","Title","ClicksPerCampaignChart","theme","data","setData","get","response","getData","top","right","bottom","left","palette","text","secondary"],"mappings":"wcAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,OAASC,QAAT,KAAyB,0BAAzB,CACA,OACEC,QADF,CAEEC,GAFF,CAGEC,KAHF,CAIEC,KAJF,CAKEC,aALF,CAMEC,OANF,CAOEC,MAPF,CAQEC,mBARF,KASO,UATP,CAUA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,KAAP,KAAkB,0BAAlB,CAEA,cAAe,SAASC,CAAAA,sBAAT,EAAkC,CAC/C,GAAMC,CAAAA,KAAK,CAAGZ,QAAQ,EAAtB,CAD+C,cAEvBF,QAAQ,CAAC,EAAD,CAFe,wCAExCe,IAFwC,eAElCC,OAFkC,eAET;AAEtCf,SAAS,CAAC,UAAM,CACd;AACA,iFAAC,mLACwBU,CAAAA,KAAK,CAACM,GAAN,CAAU,OAAV,CADxB,uCACSF,IADT,kBACSA,IADT,CAC4C;AAE3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEAC,OAAO,CAACD,IAAI,CAACG,QAAN,CAAP,CAhBD,sDAAD,WAAgBC,CAAAA,OAAhB,gDAAgBA,CAAAA,OAAhB,QAkBD,CApBQ,CAoBN,EApBM,CAAT,CAsBA,mBACE,oBAAC,KAAD,CAAO,QAAP,mBACE,oBAAC,KAAD,4BADF,cAEE,oBAAC,mBAAD,mBACE,oBAAC,QAAD,EACE,IAAI,CAAEJ,IADR,CAEE,MAAM,CAAE,CACNK,GAAG,CAAE,EADC,CAENC,KAAK,CAAE,EAFD,CAGNC,MAAM,CAAE,CAHF,CAINC,IAAI,CAAE,EAJA,CAFV,eASE,oBAAC,aAAD,EAAe,eAAe,CAAC,KAA/B,EATF,cAUE,oBAAC,KAAD,EACE,OAAO,CAAC,eADV,CAEE,MAAM,CAAET,KAAK,CAACU,OAAN,CAAcC,IAAd,CAAmBC,SAF7B,EAVF,cAcE,oBAAC,KAAD,MAdF,cAeE,oBAAC,OAAD,MAfF,cAgBE,oBAAC,MAAD,MAhBF,cAiBE,oBAAC,GAAD,EAAK,OAAO,CAAC,gBAAb,CAA8B,IAAI,CAAC,SAAnC,EAjBF,CADF,CAFF,CADF,CA0BD","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useTheme } from '@material-ui/core/styles';\nimport {\n  BarChart,\n  Bar,\n  XAxis,\n  YAxis,\n  CartesianGrid,\n  Tooltip,\n  Legend,\n  ResponsiveContainer,\n} from 'recharts';\nimport axios from 'axios';\nimport Title from '../../../Utilities/Title';\n\nexport default function ClicksPerCampaignChart() {\n  const theme = useTheme();\n  const [data, setData] = useState([]); //data for chart along with setter function\n\n  useEffect(() => {\n    //loads data asynchronously so page can load faster\n    (async function getData() {\n      const { data } = await axios.get('/data'); //fake data so there's some actual results\n\n      // only returns 1 campaign\n      // const response = await axios.post(\n      //   '/campaign',\n      //   new URLSearchParams({\n      //     query: `SELECT campaign.name, metrics.clicks FROM campaign ORDER BY campaign.id`,\n      //   }),\n      //   {\n      //     headers: {\n      //       'Content-Type': 'application/x-www-form-urlencoded',\n      //     },\n      //   },\n      // );\n\n      setData(data.response);\n    })();\n  }, []);\n\n  return (\n    <React.Fragment>\n      <Title>Clicks Per Campaign</Title>\n      <ResponsiveContainer>\n        <BarChart\n          data={data}\n          margin={{\n            top: 16,\n            right: 16,\n            bottom: 0,\n            left: 24,\n          }}\n        >\n          <CartesianGrid strokeDasharray=\"3 3\" />\n          <XAxis\n            dataKey=\"campaign.name\"\n            stroke={theme.palette.text.secondary}\n          />\n          <YAxis />\n          <Tooltip />\n          <Legend />\n          <Bar dataKey=\"metrics.clicks\" fill=\"#8884d8\" />\n        </BarChart>\n      </ResponsiveContainer>\n    </React.Fragment>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}