{"ast":null,"code":"import _regeneratorRuntime from\"/home/kjchan/step-react-ads/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/kjchan/step-react-ads/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/home/kjchan/step-react-ads/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/kjchan/step-react-ads/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/home/kjchan/step-react-ads/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/kjchan/step-react-ads/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/kjchan/step-react-ads/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import axios from'axios';import Title from'../../Utilities/Title';import Typography from'@material-ui/core/Typography';import Table from'@material-ui/core/Table';import TableBody from'@material-ui/core/TableBody';import TableCell from'@material-ui/core/TableCell';import TableHead from'@material-ui/core/TableHead';import TableRow from'@material-ui/core/TableRow';import Checkbox from'@material-ui/core/Checkbox';var Accounts=/*#__PURE__*/function(_React$Component){_inherits(Accounts,_React$Component);var _super=_createSuper(Accounts);function Accounts(props){var _this;_classCallCheck(this,Accounts);_this=_super.call(this,props);_this.fetchCustomers=_this.fetchCustomers.bind(_assertThisInitialized(_this));_this.handleClick=_this.handleClick.bind(_assertThisInitialized(_this));_this.isSelected=_this.isSelected.bind(_assertThisInitialized(_this));_this.state={customerIds:[],selected:'',status:'none authenticated'};return _this;}_createClass(Accounts,[{key:\"fetchCustomers\",value:function(){var _fetchCustomers=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _yield$axios$get,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:this.setState({status:'loading'});_context.next=3;return axios.get('/customer');case 3:_yield$axios$get=_context.sent;data=_yield$axios$get.data;console.log(data.response);if(data.response){this.setState({customerIds:data.response,status:'loaded'});}else{this.setState({status:'none authenticated'});}case 7:case\"end\":return _context.stop();}}},_callee,this);}));function fetchCustomers(){return _fetchCustomers.apply(this,arguments);}return fetchCustomers;}()},{key:\"pickContentToDisplay\",value:function pickContentToDisplay(){var _this2=this;var customerIds=this.state.customerIds;console.log(customerIds);switch(this.state.status){case'none authenticated':return/*#__PURE__*/React.createElement(Typography,{variant:\"overline\"},\"Log in to access your accounts.\");case'loading':return/*#__PURE__*/React.createElement(Typography,{variant:\"overline\"},\"Loading . . .\");case'loaded':return/*#__PURE__*/React.createElement(TableBody,null,customerIds.map(function(row){return/*#__PURE__*/React.createElement(TableRow,{key:row.id,onClick:function onClick(event){return _this2.handleClick(event,row);},role:\"checkbox\",\"aria-checked\":_this2.isSelected(row.id),tabIndex:-1,selected:_this2.isSelected(row.id),hover:true},/*#__PURE__*/React.createElement(TableCell,{padding:\"checkbox\"},/*#__PURE__*/React.createElement(Checkbox,{checked:_this2.isSelected(row.id)})),/*#__PURE__*/React.createElement(TableCell,{key:row.id},row.id),/*#__PURE__*/React.createElement(TableCell,{key:row.children},row.children),/*#__PURE__*/React.createElement(TableCell,{key:row.name},row.name));}));default:return/*#__PURE__*/React.createElement(Typography,{variant:\"overline\"},\"Log in to access your accounts.\");}}},{key:\"componentDidMount\",value:function componentDidMount(){this.fetchCustomers();this.setState({selected:''});}},{key:\"isSelected\",value:function isSelected(id){return this.state.selected===id;}},{key:\"handleClick\",value:function(){var _handleClick=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(event,row){var loginId,customerId,_yield$axios$post,data;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:this.setState({selected:row.id});loginId=row.id;customerId=row.children;console.log(row.id);console.log(row.children);_context2.next=7;return axios.post('/client',new URLSearchParams({loginId:loginId,customerId:customerId}));case 7:_yield$axios$post=_context2.sent;data=_yield$axios$post.data;alert(data);case 10:case\"end\":return _context2.stop();}}},_callee2,this);}));function handleClick(_x,_x2){return _handleClick.apply(this,arguments);}return handleClick;}()},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Title,null,\"Available Customer IDs\"),/*#__PURE__*/React.createElement(Table,{size:\"small\"},/*#__PURE__*/React.createElement(TableHead,null,/*#__PURE__*/React.createElement(TableRow,null,/*#__PURE__*/React.createElement(TableCell,null,\"Select\"),/*#__PURE__*/React.createElement(TableCell,null,\"Login ID\"),/*#__PURE__*/React.createElement(TableCell,null,\"Client Account ID\"),/*#__PURE__*/React.createElement(TableCell,null,\"Client Account Name\"))),this.pickContentToDisplay()));}}]);return Accounts;}(React.Component);export default Accounts;","map":{"version":3,"sources":["/home/kjchan/step-react-ads/client/src/Dashboard/PageComponents/LoginDashboard/Accounts.js"],"names":["React","axios","Title","Typography","Table","TableBody","TableCell","TableHead","TableRow","Checkbox","Accounts","props","fetchCustomers","bind","handleClick","isSelected","state","customerIds","selected","status","setState","get","data","console","log","response","map","row","id","event","children","name","loginId","customerId","post","URLSearchParams","alert","pickContentToDisplay","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport axios from 'axios';\nimport Title from '../../Utilities/Title';\nimport Typography from '@material-ui/core/Typography';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Checkbox from '@material-ui/core/Checkbox';\n\nclass Accounts extends React.Component {\n  constructor(props) {\n    super(props);\n    this.fetchCustomers = this.fetchCustomers.bind(this);\n    this.handleClick = this.handleClick.bind(this);\n    this.isSelected = this.isSelected.bind(this);\n    this.state = {\n      customerIds: [],\n      selected: '',\n      status: 'none authenticated',\n    };\n  }\n\n  async fetchCustomers() {\n    this.setState({ status: 'loading' });\n\n    const { data } = await axios.get('/customer');\n    console.log(data.response);\n    if (data.response) {\n      this.setState({\n        customerIds: data.response,\n        status: 'loaded',\n      });\n    } else {\n      this.setState({ status: 'none authenticated' });\n    }\n  }\n\n  pickContentToDisplay() {\n    const customerIds = this.state.customerIds;\n    console.log(customerIds);\n    switch (this.state.status) {\n      case 'none authenticated':\n        return (\n          <Typography variant=\"overline\">\n            Log in to access your accounts.\n          </Typography>\n        );\n      case 'loading':\n        return <Typography variant=\"overline\">Loading . . .</Typography>;\n      case 'loaded':\n        return (\n          <TableBody>\n            {customerIds.map((row) => (\n              <TableRow\n                key={row.id}\n                onClick={(event) => this.handleClick(event, row)}\n                role=\"checkbox\"\n                aria-checked={this.isSelected(row.id)}\n                tabIndex={-1}\n                selected={this.isSelected(row.id)}\n                hover\n              >\n                <TableCell padding=\"checkbox\">\n                  <Checkbox checked={this.isSelected(row.id)} />\n                </TableCell>\n                <TableCell key={row.id}>{row.id}</TableCell>\n                <TableCell key={row.children}>{row.children}</TableCell>\n                <TableCell key={row.name}>{row.name}</TableCell>\n              </TableRow>\n            ))}\n          </TableBody>\n        );\n      default:\n        return (\n          <Typography variant=\"overline\">\n            Log in to access your accounts.\n          </Typography>\n        );\n    }\n  }\n\n  componentDidMount() {\n    this.fetchCustomers();\n    this.setState({\n      selected: '',\n    });\n  }\n\n  isSelected(id) {\n    return this.state.selected === id;\n  }\n\n  async handleClick(event, row) {\n    this.setState({\n      selected: row.id,\n    });\n    const loginId = row.id;\n    const customerId = row.children;\n    console.log(row.id);\n    console.log(row.children);\n    const { data } = await axios.post(\n      '/client',\n      new URLSearchParams({ loginId, customerId }),\n    );\n    alert(data);\n  }\n\n  render() {\n    return (\n      <React.Fragment>\n        <Title>Available Customer IDs</Title>\n        <Table size=\"small\">\n          <TableHead>\n            <TableRow>\n              <TableCell>Select</TableCell>\n              <TableCell>Login ID</TableCell>\n              <TableCell>Client Account ID</TableCell>\n              <TableCell>Client Account Name</TableCell>\n            </TableRow>\n          </TableHead>\n          {this.pickContentToDisplay()}\n        </Table>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default Accounts;\n"]},"metadata":{},"sourceType":"module"}