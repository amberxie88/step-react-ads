{"ast":null,"code":"import _classCallCheck from\"/home/kjchan/step-react-ads/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/kjchan/step-react-ads/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/home/kjchan/step-react-ads/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/kjchan/step-react-ads/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/kjchan/step-react-ads/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";/**\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */import React from'react';import Grid from'@material-ui/core/Grid';import Paper from'@material-ui/core/Paper';import Login from'./Login';import Logout from'./Logout';import{makeStyles}from'@material-ui/core/styles';import Accounts from'./Accounts';import{stylesSettings}from'../../Utilities/Styles';import{LoginWalkthrough}from'../../Utilities/Walkthrough';import Joyride,{STATUS}from'react-joyride';var Styles=makeStyles(stylesSettings);var LoginPageLayout=/*#__PURE__*/function(_React$Component){_inherits(LoginPageLayout,_React$Component);var _super=_createSuper(LoginPageLayout);function LoginPageLayout(props){var _this;_classCallCheck(this,LoginPageLayout);_this=_super.call(this,props);_this.handleStorageChange=_this.handleStorageChange.bind(_assertThisInitialized(_this));_this.updateShouldRunTutorial=_this.updateShouldRunTutorial.bind(_assertThisInitialized(_this));_this.handleJoyrideCallback=_this.handleJoyrideCallback.bind(_assertThisInitialized(_this));window.addEventListener('storage',function(){_this.handleStorageChange();});_this.state={shouldRunTutorial:_this.updateShouldRunTutorial()};return _this;}_createClass(LoginPageLayout,[{key:\"updateShouldRunTutorial\",value:function updateShouldRunTutorial(){return localStorage.getItem('runTutorial')==null?true:localStorage.getItem('runTutorial')==='true';}},{key:\"handleStorageChange\",value:function handleStorageChange(){this.setState({shouldRunTutorial:this.updateShouldRunTutorial()});}},{key:\"handleJoyrideCallback\",value:function handleJoyrideCallback(data){var status=data.status;if([STATUS.FINISHED,STATUS.SKIPPED].includes(status)){// Need to set our state and the localStorage state to false, so we can restart if we click start again.\nlocalStorage.setItem('runTutorial',false);this.setState({shouldRunTutorial:false});}}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Joyride,{steps:LoginWalkthrough,continuous:true,showProgress:true,showSkipButton:true,run:this.state.shouldRunTutorial,callback:this.handleJoyrideCallback}),/*#__PURE__*/React.createElement(ComponentLayout,null));}}]);return LoginPageLayout;}(React.Component);var ComponentLayout=function ComponentLayout(props){var classes=Styles();return/*#__PURE__*/React.createElement(Grid,{container:true,spacing:3},/*#__PURE__*/React.createElement(Grid,{item:true,xs:12},/*#__PURE__*/React.createElement(Paper,{className:classes.paper+' login-button'},/*#__PURE__*/React.createElement(Login,null))),/*#__PURE__*/React.createElement(Grid,{item:true,xs:12},/*#__PURE__*/React.createElement(Paper,{className:classes.paper+' available-accounts'},/*#__PURE__*/React.createElement(Accounts,null))),/*#__PURE__*/React.createElement(Grid,{item:true,xs:12},/*#__PURE__*/React.createElement(Paper,{className:classes.paper+' logout-button'},/*#__PURE__*/React.createElement(Logout,null))));};export default LoginPageLayout;","map":{"version":3,"sources":["/home/kjchan/step-react-ads/client/src/Dashboard/Pages/LoginPage/LoginPageLayout.js"],"names":["React","Grid","Paper","Login","Logout","makeStyles","Accounts","stylesSettings","LoginWalkthrough","Joyride","STATUS","Styles","LoginPageLayout","props","handleStorageChange","bind","updateShouldRunTutorial","handleJoyrideCallback","window","addEventListener","state","shouldRunTutorial","localStorage","getItem","setState","data","status","FINISHED","SKIPPED","includes","setItem","Component","ComponentLayout","classes","paper"],"mappings":"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","sourcesContent":["/**\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport React from 'react';\nimport Grid from '@material-ui/core/Grid';\nimport Paper from '@material-ui/core/Paper';\nimport Login from './Login';\nimport Logout from './Logout';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Accounts from './Accounts';\nimport { stylesSettings } from '../../Utilities/Styles';\nimport { LoginWalkthrough } from '../../Utilities/Walkthrough';\nimport Joyride, { STATUS } from 'react-joyride';\nconst Styles = makeStyles(stylesSettings);\n\nclass LoginPageLayout extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleStorageChange = this.handleStorageChange.bind(this);\n    this.updateShouldRunTutorial = this.updateShouldRunTutorial.bind(this);\n    this.handleJoyrideCallback = this.handleJoyrideCallback.bind(this);\n\n    window.addEventListener('storage', () => {\n      this.handleStorageChange();\n    });\n\n    this.state = {\n      shouldRunTutorial: this.updateShouldRunTutorial(),\n    };\n  }\n\n  updateShouldRunTutorial() {\n    return localStorage.getItem('runTutorial') == null\n      ? true\n      : localStorage.getItem('runTutorial') === 'true';\n  }\n\n  handleStorageChange() {\n    this.setState({ shouldRunTutorial: this.updateShouldRunTutorial() });\n  }\n\n  handleJoyrideCallback(data) {\n    const { status } = data;\n    if ([STATUS.FINISHED, STATUS.SKIPPED].includes(status)) {\n      // Need to set our state and the localStorage state to false, so we can restart if we click start again.\n      localStorage.setItem('runTutorial', false);\n      this.setState({ shouldRunTutorial: false });\n    }\n  }\n  render() {\n    return (\n      <React.Fragment>\n        <Joyride\n          steps={LoginWalkthrough}\n          continuous={true}\n          showProgress={true}\n          showSkipButton={true}\n          run={this.state.shouldRunTutorial}\n          callback={this.handleJoyrideCallback}\n        />\n        <ComponentLayout />\n      </React.Fragment>\n    );\n  }\n}\n\nconst ComponentLayout = (props) => {\n  const classes = Styles();\n  return (\n    <Grid container spacing={3}>\n      {/* Login Button */}\n      <Grid item xs={12}>\n        <Paper className={classes.paper + ' login-button'}>\n          <Login />\n        </Paper>\n      </Grid>\n      {/* Available Accounts */}\n      <Grid item xs={12}>\n        <Paper className={classes.paper + ' available-accounts'}>\n          <Accounts />\n        </Paper>\n      </Grid>\n\n      {/* Logout Button */}\n      <Grid item xs={12}>\n        <Paper className={classes.paper + ' logout-button'}>\n          <Logout />\n        </Paper>\n      </Grid>\n    </Grid>\n  );\n};\n\nexport default LoginPageLayout;\n"]},"metadata":{},"sourceType":"module"}