{"ast":null,"code":"var _jsxFileName = \"/home/kjchan/step-react-ads/client/src/Dashboard/QueryResults.js\";\nimport React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport Title from './Title';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Query from './Queries';\nconst useStyles = makeStyles(theme => ({\n  root: {\n    margin: theme.spacing(1)\n  }\n}));\n\nfunction createData(results) {\n  const campaign = results[0].campaign;\n  const id = campaign.id;\n  const name = campaign.name;\n  return {\n    id,\n    name\n  };\n}\n\nfunction parseJSON(response) {\n  return response.json();\n}\n\nclass QueryResults extends React.Component {\n  constructor(props) {\n    super(props);\n    this.handleQuery = this.handleQuery.bind(this);\n    this.state = {\n      rows: []\n    };\n  }\n\n  handleQuery() {\n    alert('The button was clicked.');\n    fetch('/campaign', {\n      accept: 'application/json'\n    }).then(parseJSON).then(jsonResult => {\n      console.log(jsonResult);\n      this.setState({\n        rows: [createData(jsonResult.results)]\n      });\n    });\n  }\n\n  render() {\n    const rows = this.state.rows;\n    let button = /*#__PURE__*/React.createElement(SubmitButton, {\n      onClick: this.handleQuery,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 18\n      }\n    });\n    return /*#__PURE__*/React.createElement(React.Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Title, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }\n    }, \"Query Here\"), /*#__PURE__*/React.createElement(Query, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }\n    }), button, /*#__PURE__*/React.createElement(DisplayRows, {\n      rows: rows,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }\n    }));\n  }\n\n}\n\nfunction Results(props) {\n  const rows = props.rows;\n  return /*#__PURE__*/React.createElement(Table, {\n    size: \"small\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(TableHead, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(TableRow, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(TableCell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 11\n    }\n  }, \"Campaign ID\"), /*#__PURE__*/React.createElement(TableCell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 11\n    }\n  }, \"Campaign Name\"))), /*#__PURE__*/React.createElement(TableBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }\n  }, rows.map(row => /*#__PURE__*/React.createElement(TableRow, {\n    key: row.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(TableCell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }\n  }, row.id), /*#__PURE__*/React.createElement(TableCell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 13\n    }\n  }, row.name)))));\n}\n\nfunction DisplayRows(props) {\n  const rows = props.rows;\n  return /*#__PURE__*/React.createElement(Results, {\n    rows: rows,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 10\n    }\n  });\n}\n\nfunction SubmitButton(props) {\n  const classes = useStyles();\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.root,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"outlined\",\n    onClick: props.onClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 7\n    }\n  }, \"Submit\"));\n}\n\nexport default QueryResults;","map":{"version":3,"sources":["/home/kjchan/step-react-ads/client/src/Dashboard/QueryResults.js"],"names":["React","makeStyles","TextField","Button","Title","Table","TableBody","TableCell","TableHead","TableRow","Query","useStyles","theme","root","margin","spacing","createData","results","campaign","id","name","parseJSON","response","json","QueryResults","Component","constructor","props","handleQuery","bind","state","rows","alert","fetch","accept","then","jsonResult","console","log","setState","render","button","Results","map","row","DisplayRows","SubmitButton","classes","onClick"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport Title from './Title';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Query from './Queries';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    margin: theme.spacing(1),\n  },\n}));\n\nfunction createData(results) {\n  const campaign = results[0].campaign;\n  const id = campaign.id;\n  const name = campaign.name;\n  return { id, name };\n}\n\nfunction parseJSON(response) {\n  return response.json();\n}\n\nclass QueryResults extends React.Component {\n  constructor(props) {\n    super(props);\n    this.handleQuery = this.handleQuery.bind(this);\n    this.state = { rows: [] };\n  }\n\n  handleQuery() {\n    alert('The button was clicked.');\n    fetch('/campaign', {\n      accept: 'application/json',\n    })\n      .then(parseJSON)\n      .then((jsonResult) => {\n        console.log(jsonResult);\n        this.setState({\n          rows: [createData(jsonResult.results)],\n        });\n      });\n  }\n\n  render() {\n    const rows = this.state.rows;\n\n    let button = <SubmitButton onClick={this.handleQuery} />;\n\n    return (\n      <React.Fragment>\n        <Title>Query Here</Title>\n        <Query />\n        {button}\n        <DisplayRows rows={rows} />\n      </React.Fragment>\n    );\n  }\n}\n\nfunction Results(props) {\n  const rows = props.rows;\n  return (\n    <Table size=\"small\">\n      <TableHead>\n        <TableRow>\n          <TableCell>Campaign ID</TableCell>\n          <TableCell>Campaign Name</TableCell>\n        </TableRow>\n      </TableHead>\n      <TableBody>\n        {rows.map((row) => (\n          <TableRow key={row.id}>\n            <TableCell>{row.id}</TableCell>\n            <TableCell>{row.name}</TableCell>\n          </TableRow>\n        ))}\n      </TableBody>\n    </Table>\n  );\n}\n\nfunction DisplayRows(props) {\n  const rows = props.rows;\n  return <Results rows={rows} />;\n}\n\nfunction SubmitButton(props) {\n  const classes = useStyles();\n  return (\n    <div className={classes.root}>\n      <Button variant=\"outlined\" onClick={props.onClick}>\n        Submit\n      </Button>\n    </div>\n  );\n}\n\nexport default QueryResults;\n"]},"metadata":{},"sourceType":"module"}