{"ast":null,"code":"import _classCallCheck from\"/home/kjchan/step-react-ads/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/kjchan/step-react-ads/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/home/kjchan/step-react-ads/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/kjchan/step-react-ads/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/kjchan/step-react-ads/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import{makeStyles}from'@material-ui/core/styles';import TextField from'@material-ui/core/TextField';import Button from'@material-ui/core/Button';import Title from'./Title';import Table from'@material-ui/core/Table';import TableBody from'@material-ui/core/TableBody';import TableCell from'@material-ui/core/TableCell';import TableHead from'@material-ui/core/TableHead';import TableRow from'@material-ui/core/TableRow';import Query from'./Queries';var useStyles=makeStyles(function(theme){return{root:{margin:theme.spacing(1)}};});//JSON data parsing here\nfunction createData(results){var campaign=results[0].campaign;var id=campaign.id;var name=campaign.name;return{id:id,name:name};}function parseJSON(response){return response.json();}var QueryResults=/*#__PURE__*/function(_React$Component){_inherits(QueryResults,_React$Component);var _super=_createSuper(QueryResults);function QueryResults(props){var _this;_classCallCheck(this,QueryResults);_this=_super.call(this,props);_this.handleQuery=_this.handleQuery.bind(_assertThisInitialized(_this));_this.state={rows:[]};return _this;}_createClass(QueryResults,[{key:\"handleQuery\",value:function handleQuery(){var _this2=this;alert('The button was clicked.');fetch('/campaign',{accept:'application/json'}).then(parseJSON).then(function(jsonResult){console.log(jsonResult);_this2.setState({rows:[createData(jsonResult.results)]});});}},{key:\"render\",value:function render(){var rows=this.state.rows;var button=/*#__PURE__*/React.createElement(SubmitButton,{onClick:this.handleQuery});return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Title,null,\"Query Here\"),/*#__PURE__*/React.createElement(Query,null),button,/*#__PURE__*/React.createElement(Title,null,\"Query Results\"),/*#__PURE__*/React.createElement(DisplayRows,{rows:rows}));}}]);return QueryResults;}(React.Component);function Results(props){var rows=props.rows;return/*#__PURE__*/React.createElement(Table,{size:\"small\"},/*#__PURE__*/React.createElement(TableHead,null,/*#__PURE__*/React.createElement(TableRow,null,/*#__PURE__*/React.createElement(TableCell,null,\"Campaign ID\"),/*#__PURE__*/React.createElement(TableCell,null,\"Campaign Name\"))),/*#__PURE__*/React.createElement(TableBody,null,rows.map(function(row){return/*#__PURE__*/React.createElement(TableRow,{key:row.id},/*#__PURE__*/React.createElement(TableCell,null,row.id),/*#__PURE__*/React.createElement(TableCell,null,row.name));})));}function DisplayRows(props){var rows=props.rows;return/*#__PURE__*/React.createElement(Results,{rows:rows});}function SubmitButton(props){var classes=useStyles();return/*#__PURE__*/React.createElement(\"div\",{className:classes.root},/*#__PURE__*/React.createElement(Button,{variant:\"outlined\",onClick:props.onClick},\"Submit\"));}export default QueryResults;","map":{"version":3,"sources":["/home/kjchan/step-react-ads/client/src/Dashboard/QueryResults.js"],"names":["React","makeStyles","TextField","Button","Title","Table","TableBody","TableCell","TableHead","TableRow","Query","useStyles","theme","root","margin","spacing","createData","results","campaign","id","name","parseJSON","response","json","QueryResults","props","handleQuery","bind","state","rows","alert","fetch","accept","then","jsonResult","console","log","setState","button","Component","Results","map","row","DisplayRows","SubmitButton","classes","onClick"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport Title from './Title';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Query from './Queries';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    margin: theme.spacing(1),\n  },\n}));\n\n//JSON data parsing here\nfunction createData(results) {\n  const campaign = results[0].campaign;\n  const id = campaign.id;\n  const name = campaign.name;\n  return { id, name };\n}\n\nfunction parseJSON(response) {\n  return response.json();\n}\n\nclass QueryResults extends React.Component {\n  constructor(props) {\n    super(props);\n    this.handleQuery = this.handleQuery.bind(this);\n    this.state = { rows: [] };\n  }\n\n  handleQuery() {\n    alert('The button was clicked.');\n    fetch('/campaign', {\n      accept: 'application/json',\n    })\n      .then(parseJSON)\n      .then((jsonResult) => {\n        console.log(jsonResult);\n        this.setState({\n          rows: [createData(jsonResult.results)],\n        });\n      });\n  }\n\n  render() {\n    const rows = this.state.rows;\n\n    let button = <SubmitButton onClick={this.handleQuery} />;\n\n    return (\n      <React.Fragment>\n        <Title>Query Here</Title>\n        <Query />\n        {button}\n        <Title>Query Results</Title>\n        <DisplayRows rows={rows} />\n      </React.Fragment>\n    );\n  }\n}\n\nfunction Results(props) {\n  const rows = props.rows;\n  return (\n    <Table size=\"small\">\n      <TableHead>\n        <TableRow>\n          <TableCell>Campaign ID</TableCell>\n          <TableCell>Campaign Name</TableCell>\n        </TableRow>\n      </TableHead>\n      <TableBody>\n        {rows.map((row) => (\n          <TableRow key={row.id}>\n            <TableCell>{row.id}</TableCell>\n            <TableCell>{row.name}</TableCell>\n          </TableRow>\n        ))}\n      </TableBody>\n    </Table>\n  );\n}\n\nfunction DisplayRows(props) {\n  const rows = props.rows;\n  return <Results rows={rows} />;\n}\n\nfunction SubmitButton(props) {\n  const classes = useStyles();\n  return (\n    <div className={classes.root}>\n      <Button variant=\"outlined\" onClick={props.onClick}>\n        Submit\n      </Button>\n    </div>\n  );\n}\n\nexport default QueryResults;\n"]},"metadata":{},"sourceType":"module"}